<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>忘记密码</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Microsoft YaHei", sans-serif; }
        body { background: #f5f5f5; padding: 20px; }
        .reset-box { max-width: 400px; margin: 50px auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .title { font-size: 24px; color: #333; text-align: center; margin-bottom: 30px; font-weight: 600; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; color: #666; font-size: 14px; }
        input { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 4px; font-size: 16px; outline: none; }
        input:focus { border-color: #1890ff; box-shadow: 0 0 0 2px rgba(24,144,255,0.1); }
        .code-group { display: flex; gap: 10px; }
        .code-btn { width: 120px; padding: 12px; background: #1890ff; color: #fff; border: none; border-radius: 4px; font-size: 14px; cursor: pointer; }
        .code-btn:disabled { background: #ccc; cursor: not-allowed; }
        .submit-btn { width: 100%; padding: 14px; background: #1890ff; color: #fff; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; margin-top: 10px; }
        .submit-btn:hover { background: #096dd9; }
        .link { text-align: center; margin-top: 20px; font-size: 14px; }
        .link a { color: #1890ff; text-decoration: none; }
        .error { color: #ff4d4f; font-size: 12px; margin-top: 5px; display: none; }
    </style>
</head>
<body>
    <div class="reset-box">
        <h2 class="title">忘记密码</h2>
        <form id="resetForm">
            <div class="form-group">
                <label for="phone">绑定手机号</label>
                <input type="tel" id="phone" placeholder="请输入手机号" maxlength="11">
                <div class="error" id="phoneError">请输入正确的手机号</div>
            </div>
            <div class="form-group code-group">
                <div>
                    <label for="code">验证码</label>
                    <input type="text" id="code" placeholder="请输入6位验证码" maxlength="6">
                    <div class="error" id="codeError">请输入正确的验证码</div>
                </div>
                <button type="button" class="code-btn" id="getCode">获取验证码</button>
            </div>
            <div class="form-group">
                <label for="newPwd">新密码</label>
                <input type="password" id="newPwd" placeholder="请设置6-16位密码（含字母+数字）">
                <div class="error" id="pwdError">密码格式不正确</div>
            </div>
            <div class="form-group">
                <label for="confirmPwd">确认新密码</label>
                <input type="password" id="confirmPwd" placeholder="请再次输入新密码">
                <div class="error" id="confirmError">两次密码不一致</div>
            </div>
            <button type="submit" class="submit-btn">重置密码</button>
            <div class="link">
                <a href=" ">返回登录</a > | 
                <a href="contact.html">联系客服</a >
            </div>
        </form>
    </div>

    <script>
        // 验证码倒计时
        const getCodeBtn = document.getElementById('getCode');
        let countdown = 0;
        getCodeBtn.addEventListener('click', function() {
            const phone = document.getElementById('phone').value;
            if (!/^1[3-9]\d{9}$/.test(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                return;
            }
            document.getElementById('phoneError').style.display = 'none';
            
            // 倒计时逻辑
            countdown = 60;
            getCodeBtn.disabled = true;
            getCodeBtn.textContent = `${countdown}s后重新获取`;
            const timer = setInterval(() => {
                countdown--;
                getCodeBtn.textContent = `${countdown}s后重新获取`;
                if (countdown <= 0) {
                    clearInterval(timer);
                    getCodeBtn.disabled = false;
                    getCodeBtn.textContent = '获取验证码';
                }
            }, 1000);

            // 实际项目中这里需调用后端接口发送验证码
            console.log(`向手机号 ${phone} 发送验证码`);
        });

        // 表单验证
        const resetForm = document.getElementById('resetForm');
        resetForm.addEventListener('submit', function(e) {
            e.preventDefault();
            let isValid = true;

            // 手机号验证
            const phone = document.getElementById('phone').value;
            if (!/^1[3-9]\d{9}$/.test(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('phoneError').style.display = 'none';
            }

            // 验证码验证
            const code = document.getElementById('code').value;
            if (!/^\d{6}$/.test(code)) {
                document.getElementById('codeError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('codeError').style.display = 'none';
            }

            // 密码验证
            const newPwd = document.getElementById('newPwd').value;
            if (!/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{6,16}$/.test(newPwd)) {
                document.getElementById('pwdError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('pwdError').style.display = 'none';
            }

            // 确认密码验证
            const confirmPwd = document.getElementById('confirmPwd').value;
            if (newPwd !== confirmPwd) {
                document.getElementById('confirmError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('confirmError').style.display = 'none';
            }

            // 验证通过，调用后端重置接口
            if (isValid) {
                console.log('密码重置成功，跳转登录页');
                alert('密码重置成功！');
                window.location.href = 'login.html'; // 跳转到登录页
            }
        });
    </script>
</body>
</html>