<!DOCTYPE html>
<html>

<head>
    <title>æ¢¦æº</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            background-image: url();
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            min-height: 100vh;
            margin: 0;
            padding: 0 20px;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        /* å¤´éƒ¨ï¼ˆä»…ä¿ç•™logoå’Œç™»å½•ï¼‰ */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 0;
            width: 100%;
        }

        #logo {
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            border-radius: 50%;
            width: 120px;
            height: 120px;
            object-fit: cover;
        }

        .logo-text {
            font-size: 1.5rem;
            color: #333;
        }

        .login-container {
            position: relative;
            display: inline-block;
        }

        .login-link {
            color: rebeccapurple;
            font-size: 20px;
            text-decoration: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .login-link svg {
            width: 30px;
            height: 30px;
            fill: rebeccapurple;
            transition: transform 0.3s ease;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            cursor: pointer;
            border: 2px solid #007bff;
            transition: transform 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
        }

        .login-link:hover svg {
            transform: scale(1.1);
        }

        /* ç™»å½•æç¤ºå·¥å…·æç¤º - æ”¹è¿›å±…ä¸­ */
        .login-tooltip {
            visibility: hidden;
            position: absolute;
            background-color: rgba(0, 0, 0, 0.85);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 8px 12px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 100;
            top: -45px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            font-weight: 500;
        }

        /* å·¥å…·æç¤ºç®­å¤´ - æ”¹è¿›å±…ä¸­ */
        .login-tooltip::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -6px;
            border-width: 6px;
            border-style: solid;
            border-color: rgba(0, 0, 0, 0.85) transparent transparent transparent;
        }

        .login-container:hover .login-tooltip {
            visibility: visible;
            opacity: 1;
        }

        /* æœç´¢å®¹å™¨ï¼ˆå±…ä¸­+å“åº”å¼ï¼‰ */
        .search-container {
            margin: 20px auto;
            display: flex;
            align-items: center;
            max-width: 600px;
            width: 100%;
        }

        .search-input {
            padding: 14px 20px;
            border: 1px solid #ddd;
            border-radius: 30px 0 0 30px;
            flex: 1;
            font-size: 16px;
            border-right: none;
        }

        .search-btn {
            padding: 14px 20px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 0 30px 30px 0;
            cursor: pointer;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-btn svg {
            width: 20px;
            height: 20px;
            fill: #666;
        }

        /* å¯¼èˆªæŒ‰é’®ï¼ˆç§»åˆ°æœç´¢æ ä¸‹æ–¹ï¼‰ */
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 10px 18px;
            background: rgba(255, 255, 255, 0.7);
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #333;
            transition: background 0.3s ease;
            border-radius: 4px;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        /* èœå•é“¾æ¥ */
        .menu-links {
            margin-top: 20px;
            text-align: left;
        }

        .menu-link {
            color: rebeccapurple;
            text-decoration: none;
            display: block;
            margin: 8px 0;
            font-size: 14px;
        }

        /* ç™»å½•æ¡†æ ·å¼ */
        .login-overlay, .avatar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .login-frame, .avatar-frame {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        .avatar-frame {
            max-width: 600px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-title {
            text-align: center;
            margin-bottom: 25px;
            color: #333;
            font-size: 24px;
            font-weight: bold;
        }

        .login-close, .avatar-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            transition: color 0.3s;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-close:hover, .avatar-close:hover {
            color: #ff4444;
        }

        .login-form, .register-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .register-form {
            display: none; /* é»˜è®¤éšè—æ³¨å†Œè¡¨å• */
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 8px;
            color: #555;
            font-size: 14px;
        }

        .form-group input {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }

        .form-group input:focus {
            border-color: #007bff; /* æ”¹ä¸ºè“è‰² */
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        /* ç™»å½•æŒ‰é’® - æ”¹ä¸ºè“è‰² */
        .login-submit, .register-submit, .avatar-btn {
            padding: 14px;
            background-color: #007bff; /* æ”¹ä¸ºè“è‰² */
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-top: 10px;
            font-weight: 600;
        }

        .login-submit:hover, .register-submit:hover, .avatar-btn:hover {
            background-color: #0056b3; /* æ·±è“è‰² */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
        }

        .login-submit:active, .register-submit:active, .avatar-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
        }

        .register-link, .login-link-switch {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #666;
        }

        .register-link a, .login-link-switch a {
            color: #007bff; /* æ”¹ä¸ºè“è‰² */
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
        }

        .register-link a:hover, .login-link-switch a:hover {
            text-decoration: underline;
        }

        /* å¤´åƒè®¾ç½®æ ·å¼ */
        .avatar-section {
            margin-bottom: 30px;
        }

        .avatar-section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }

        .avatar-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .avatar-option {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            cursor: pointer;
            border: 3px solid transparent;
            transition: transform 0.3s, border-color 0.3s;
        }

        .avatar-option:hover {
            transform: scale(1.1);
        }

        .avatar-option.selected {
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.5);
        }

        .avatar-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .avatar-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
            border: 3px solid #eee;
        }

        .file-input-container {
            position: relative;
            margin-bottom: 20px;
        }

        .file-input {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-label {
            display: inline-block;
            padding: 12px 24px;
            background-color: #f0f0f0;
            color: #333;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .file-input-label:hover {
            background-color: #e0e0e0;
        }

        .avatar-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .avatar-cancel {
            background-color: #6c757d;
        }

        .avatar-cancel:hover {
            background-color: #545b62;
        }

        /* ç”¨æˆ·èœå• */
        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            min-width: 180px;
            z-index: 100;
            display: none;
            margin-top: 10px;
        }

        .user-menu-item {
            padding: 12px 20px;
            cursor: pointer;
            color: #333;
            text-decoration: none;
            display: block;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.3s;
        }

        .user-menu-item:last-child {
            border-bottom: none;
        }

        .user-menu-item:hover {
            background-color: #f5f5f5;
            color: #007bff;
        }

        .user-menu.show {
            display: block;
        }

        /* çƒ­é—¨æ¡†æ¶æ•°æ®æ ·å¼ */
        .hot-frameworks-container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .hot-frameworks-title {
            text-align: center;
            font-size: 28px;
            color: #333;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .hot-frameworks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .framework-card {
            background: rgba(255, 255, 255, 0.85);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
            text-align: center;
        }

        .framework-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 0.95);
        }

        .framework-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .framework-name {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin: 10px 0;
        }

        .framework-description {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .framework-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }

        .stat-label {
            font-size: 12px;
            color: #999;
        }

        /* å“åº”å¼é€‚é…ï¼ˆæ‰‹æœºç«¯ï¼‰ */
        @media (max-width: 480px) {
            .logo {
                width: 50px;
                height: 50px;
            }

            .logo-text {
                font-size: 1.2rem;
            }

            .login-link svg {
                width: 25px;
                height: 25px;
            }

            .search-input {
                padding: 12px 15px;
                font-size: 14px;
            }

            .search-btn {
                padding: 12px 15px;
            }

            .search-btn svg {
                width: 18px;
                height: 18px;
            }

            .nav-btn {
                padding: 8px 12px;
                font-size: 14px;
            }

            .login-frame, .avatar-frame {
                padding: 20px;
                width: 95%;
            }

            .login-title {
                font-size: 20px;
            }
            
            /* æ‰‹æœºç«¯è°ƒæ•´å·¥å…·æç¤ºä½ç½® */
            .login-tooltip {
                top: -40px;
                font-size: 11px;
                padding: 6px 10px;
            }
            
            .login-tooltip::after {
                margin-left: -5px;
                border-width: 5px;
            }

            .avatar-option {
                width: 60px;
                height: 60px;
            }

            .avatar-preview {
                width: 100px;
                height: 100px;
            }

            .avatar-actions {
                flex-direction: column;
            }

            .hot-frameworks-title {
                font-size: 22px;
            }

            .hot-frameworks-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- å¤´éƒ¨ï¼šlogo + ç™»å½• -->
    <div class="header">
        <div id="logo" onclick="window.location.href = '/'">
            <img class="logo" src="./logo.jpg" alt="logo">
          
        </div>
        <div class="login-container">
            <div class="login-tooltip">ç™»å½•</div>
            <h1 style="min-width: 2rem; margin: 0;">
                <!-- ç™»å½•å›¾æ ‡æˆ–ç”¨æˆ·å¤´åƒ -->
                <div id="userAvatarContainer">
                    <a class="login-link" id="openLoginBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                            <path
                                d="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z" />
                        </svg>
                    </a>
                </div>
            </h1>
            
            <!-- ç”¨æˆ·èœå• -->
            <div class="user-menu" id="userMenu">
                <a class="user-menu-item" id="changeAvatarBtn">æ›´æ”¹å¤´åƒ</a>
                <a class="user-menu-item" id="logoutBtn">é€€å‡ºç™»å½•</a>
            </div>
        </div>
    </div>

    <!-- æœç´¢æ¡†åŒºåŸŸ -->
    <div class="search-container">
        <input type="text" class="search-input" placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹...">
        <button class="search-btn" onclick="search()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                <path
                    d="M480 272C480 317.9 465.1 360.3 440 394.7L566.6 521.4C579.1 533.9 579.1 554.2 566.6 566.7C554.1 579.2 533.8 579.2 521.3 566.7L394.7 440C360.3 465.1 317.9 480 272 480C157.1 480 64 386.9 64 272C64 157.1 157.1 64 272 64C386.9 64 480 157.1 480 272zM272 416C351.5 416 416 351.5 416 272C416 192.5 351.5 128 272 128C192.5 128 128 192.5 128 272C128 351.5 192.5 416 272 416z" />
            </svg>
        </button>
    </div>

    <!-- å¯¼èˆªæŒ‰é’®ï¼ˆç§»åˆ°æœç´¢æ ä¸‹æ–¹ï¼‰ -->
    <div class="nav-buttons">
        <a href="./8.html">
            <button class="nav-btn">é¦–é¡µ</button>
        </a>
         <a href="./ç›®å½•.html">
            <button class="nav-btn">DreamLib</button>
        </a>
       
        <a href="./10.html">
            <button class="nav-btn">å‘ç°</button>
        </a>
        <a href="./7.html">
            <button class="nav-btn">é™„è¿‘</button>
        </a>
             <a href="./9.html">
            <button class="nav-btn">å›¾ç‰‡</button>
        </a>
       
         <a href="./6.html">
            <button class="nav-btn">æˆ‘çš„</button>
        </a>
   
    </div>

    <!-- çƒ­é—¨æ¡†æ¶æ•°æ® -->
    <div class="hot-frameworks-container">
        <h2 class="hot-frameworks-title">çƒ­é—¨æ¡†æ¶æ•°æ®</h2>
        <div class="hot-frameworks-grid">
            <div class="framework-card">
                <div class="framework-icon">âš›ï¸</div>
                <h3 class="framework-name">React</h3>
                <p class="framework-description">ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œä¸“æ³¨äº UI å±‚ï¼Œå¯ä»¥ä¸å…¶ä»–åº“æˆ–ç°æœ‰é¡¹ç›®é›†æˆã€‚</p>
                <div class="framework-stats">
                    <div class="stat-item">
                        <div class="stat-value">45K+</div>
                        <div class="stat-label">Stars</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">1.2K</div>
                        <div class="stat-label">Contributors</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">98%</div>
                        <div class="stat-label">Satisfaction</div>
                    </div>
                </div>
            </div>
            
            <div class="framework-card">
                <div class="framework-icon">âš¡</div>
                <h3 class="framework-name">Vue.js</h3>
                <p class="framework-description">æ¸è¿›å¼ JavaScript æ¡†æ¶ï¼Œæ˜“äºä¸Šæ‰‹ï¼ŒAPI è®¾è®¡ç®€æ´ç›´è§‚ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘ã€‚</p>
                <div class="framework-stats">
                    <div class="stat-item">
                        <div class="stat-value">38K+</div>
                        <div class="stat-label">Stars</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">900+</div>
                        <div class="stat-label">Contributors</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">96%</div>
                        <div class="stat-label">Satisfaction</div>
                    </div>
                </div>
            </div>
            
            <div class="framework-card">
                <div class="framework-icon">ğŸ”¥</div>
                <h3 class="framework-name">Angular</h3>
                <p class="framework-description">ç”± Google å¼€å‘çš„å¹³å°å’Œæ¡†æ¶ï¼Œç”¨äºæ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ TypeScript ç¼–å†™ã€‚</p>
                <div class="framework-stats">
                    <div class="stat-item">
                        <div class="stat-value">52K+</div>
                        <div class="stat-label">Stars</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">1.5K</div>
                        <div class="stat-label">Contributors</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">94%</div>
                        <div class="stat-label">Satisfaction</div>
                    </div>
                </div>
            </div>
            
            <div class="framework-card">
                <div class="framework-icon">ğŸš€</div>
                <h3 class="framework-name">Svelte</h3>
                <p class="framework-description">æ–°ä¸€ä»£å‰ç«¯æ¡†æ¶ï¼Œåœ¨æ„å»ºæ—¶å°†ä»£ç è½¬æ¢ä¸ºé«˜æ•ˆçš„åŸç”Ÿ JavaScriptï¼Œè¿è¡Œæ—¶æ€§èƒ½ä¼˜å¼‚ã€‚</p>
                <div class="framework-stats">
                    <div class="stat-item">
                        <div class="stat-value">58K+</div>
                        <div class="stat-label">Stars</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">400+</div>
                        <div class="stat-label">Contributors</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">97%</div>
                        <div class="stat-label">Satisfaction</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- èœå•é“¾æ¥ -->
 

    <!-- ç™»å½•æ¡†ï¼ˆæ¨¡æ€æ¡†ï¼‰ -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-frame">
            <button class="login-close" id="closeLoginBtn">Ã—</button>
            <div class="login-title" id="formTitle">ç™»å½•</div>
            
            <!-- ç™»å½•è¡¨å• -->
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="username">ç”¨æˆ·å</label>
                    <input type="text" id="username" name="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" required>
                </div>
                <div class="form-group">
                    <label for="password">å¯†ç </label>
                    <input type="password" id="password" name="password" placeholder="è¯·è¾“å…¥å¯†ç " required>
                </div>
                <button type="submit" class="login-submit">ç™»å½•</button>
            </form>
            
            <!-- æ³¨å†Œè¡¨å• -->
            <form class="register-form" id="registerForm">
                <div class="form-group">
                    <label for="reg-username">ç”¨æˆ·å</label>
                    <input type="text" id="reg-username" name="reg-username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" required>
                </div>
                <div class="form-group">
                    <label for="reg-email">é‚®ç®±</label>
                    <input type="email" id="reg-email" name="reg-email" placeholder="è¯·è¾“å…¥é‚®ç®±" required>
                </div>
                <div class="form-group">
                    <label for="reg-password">å¯†ç </label>
                    <input type="password" id="reg-password" name="reg-password" placeholder="è¯·è¾“å…¥å¯†ç " required>
                </div>
                <div class="form-group">
                    <label for="reg-confirm-password">ç¡®è®¤å¯†ç </label>
                    <input type="password" id="reg-confirm-password" name="reg-confirm-password" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " required>
                </div>
                <button type="submit" class="register-submit">æ³¨å†Œ</button>
            </form>
            
            <div class="register-link" id="registerLinkContainer">
                è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ<a id="registerLink">ç«‹å³æ³¨å†Œ</a>
            </div>
            <div class="login-link-switch" id="loginLinkContainer" style="display: none;">
                å·²æœ‰è´¦æˆ·ï¼Ÿ<a id="loginLink">ç«‹å³ç™»å½•</a>
            </div>
        </div>
    </div>

    <!-- å¤´åƒè®¾ç½®æ¡†ï¼ˆæ¨¡æ€æ¡†ï¼‰ -->
    <div class="avatar-overlay" id="avatarOverlay">
        <div class="avatar-frame">
            <button class="avatar-close" id="closeAvatarBtn">Ã—</button>
            <div class="login-title">è®¾ç½®å¤´åƒ</div>
            
            <!-- ç³»ç»Ÿæ¨èå¤´åƒ -->
            <div class="avatar-section">
                <div class="avatar-section-title">ç³»ç»Ÿæ¨èå¤´åƒ</div>
                <div class="avatar-options" id="systemAvatars">
                    <!-- ç³»ç»Ÿæ¨èå¤´åƒå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- è‡ªå®šä¹‰ä¸Šä¼ å¤´åƒ -->
            <div class="avatar-section">
                <div class="avatar-section-title">è‡ªå®šä¹‰å¤´åƒ</div>
                <div class="avatar-upload">
                    <img id="avatarPreview" src="" alt="å¤´åƒé¢„è§ˆ" class="avatar-preview" style="display: none;">
                    <div class="file-input-container">
                        <input type="file" id="avatarUpload" class="file-input" accept="image/*">
                        <label for="avatarUpload" class="file-input-label">é€‰æ‹©å›¾ç‰‡æ–‡ä»¶</label>
                    </div>
                    <div class="avatar-actions">
                        <button type="button" class="avatar-btn" id="saveAvatarBtn">ä¿å­˜å¤´åƒ</button>
                        <button type="button" class="avatar-btn avatar-cancel" id="cancelAvatarBtn">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æœç´¢åŠŸèƒ½
        function search() {
            const content = document.querySelector(".search-input").value;
            if (!(content.trim())) return;
            window.open("https://cn.bing.com/search?mkt=zh-cn&q=" + content)
        }

        // è·å–DOMå…ƒç´ 
        const openLoginBtn = document.getElementById('openLoginBtn');
        const closeLoginBtn = document.getElementById('closeLoginBtn');
        const loginOverlay = document.getElementById('loginOverlay');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const registerLink = document.getElementById('registerLink');
        const loginLink = document.getElementById('loginLink');
        const formTitle = document.getElementById('formTitle');
        const registerLinkContainer = document.getElementById('registerLinkContainer');
        const loginLinkContainer = document.getElementById('loginLinkContainer');
        
        // å¤´åƒè®¾ç½®ç›¸å…³å…ƒç´ 
        const userAvatarContainer = document.getElementById('userAvatarContainer');
        const userMenu = document.getElementById('userMenu');
        const changeAvatarBtn = document.getElementById('changeAvatarBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const avatarOverlay = document.getElementById('avatarOverlay');
        const closeAvatarBtn = document.getElementById('closeAvatarBtn');
        const systemAvatars = document.getElementById('systemAvatars');
        const avatarUpload = document.getElementById('avatarUpload');
        const avatarPreview = document.getElementById('avatarPreview');
        const saveAvatarBtn = document.getElementById('saveAvatarBtn');
        const cancelAvatarBtn = document.getElementById('cancelAvatarBtn');
        
        // å½“å‰ç”¨æˆ·çŠ¶æ€
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let selectedAvatar = null;
        let uploadedAvatar = null;

        // ç³»ç»Ÿæ¨èå¤´åƒURLï¼ˆè¿™é‡Œä½¿ç”¨åœ¨çº¿å ä½å›¾ç‰‡ï¼Œå®é™…é¡¹ç›®ä¸­åº”ä½¿ç”¨çœŸå®å¤´åƒï¼‰
        const systemAvatarUrls = [
            'https://api.dicebear.com/7.x/avataaars/svg?seed=1',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=2',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=3',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=4',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=5',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=6',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=7',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=8',
            'https://api.dicebear.com/7.x/avataaars/svg?seed=9'
        ];

        // åˆå§‹åŒ–ï¼šæ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€
        function initUserState() {
            if (currentUser) {
                // ç”¨æˆ·å·²ç™»å½•ï¼Œæ˜¾ç¤ºå¤´åƒ
                showUserAvatar();
            } else {
                // ç”¨æˆ·æœªç™»å½•ï¼Œæ˜¾ç¤ºç™»å½•å›¾æ ‡
                showLoginIcon();
            }
        }

        // æ˜¾ç¤ºç”¨æˆ·å¤´åƒ
        function showUserAvatar() {
            const avatarUrl = currentUser?.avatar || systemAvatarUrls[0];
            userAvatarContainer.innerHTML = `
                <img src="${avatarUrl}" alt="ç”¨æˆ·å¤´åƒ" class="user-avatar" id="userAvatar">
            `;
            
            // æ·»åŠ å¤´åƒç‚¹å‡»äº‹ä»¶
            document.getElementById('userAvatar').addEventListener('click', function(e) {
                e.stopPropagation();
                userMenu.classList.toggle('show');
            });
            
            // æ›´æ–°å·¥å…·æç¤º
            document.querySelector('.login-tooltip').textContent = currentUser?.username || 'ç‚¹å‡»æŸ¥çœ‹èœå•';
        }

        // æ˜¾ç¤ºç™»å½•å›¾æ ‡
        function showLoginIcon() {
            userAvatarContainer.innerHTML = `
                <a class="login-link" id="openLoginBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                        <path d="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z" />
                    </svg>
                </a>
            `;
            
            // é‡æ–°ç»‘å®šç™»å½•æŒ‰é’®äº‹ä»¶
            document.getElementById('openLoginBtn').addEventListener('click', function(e) {
                e.preventDefault();
                loginOverlay.style.display = 'flex';
                loginForm.reset();
                registerForm.reset();
                showLoginForm();
            });
            
            // æ›´æ–°å·¥å…·æç¤º
            document.querySelector('.login-tooltip').textContent = 'ç‚¹å‡»è¿™é‡Œç™»å½•';
        }

        // æ‰“å¼€ç™»å½•æ¡†æ¶
        openLoginBtn.addEventListener('click', function(e) {
            e.preventDefault();
            loginOverlay.style.display = 'flex';
            // æ¸…é™¤è¡¨å•æ•°æ®
            loginForm.reset();
            registerForm.reset();
            // æ˜¾ç¤ºç™»å½•è¡¨å•ï¼Œéšè—æ³¨å†Œè¡¨å•
            showLoginForm();
        });

        // å…³é—­ç™»å½•æ¡†æ¶
        closeLoginBtn.addEventListener('click', function() {
            loginOverlay.style.display = 'none';
        });

        // ç‚¹å‡»é®ç½©å±‚ä¹Ÿå¯ä»¥å…³é—­ç™»å½•æ¡†æ¶
        loginOverlay.addEventListener('click', function(e) {
            if (e.target === loginOverlay) {
                loginOverlay.style.display = 'none';
            }
        });

        // å¤„ç†ç™»å½•è¡¨å•æäº¤
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();

            if (!username || !password) {
                alert('è¯·å¡«å†™ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }

            // æ¨¡æ‹Ÿç™»å½•æˆåŠŸ
            currentUser = {
                username: username,
                email: `${username}@example.com`,
                avatar: localStorage.getItem(`${username}_avatar`) || systemAvatarUrls[0]
            };
            
            // ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            alert(`ç™»å½•æˆåŠŸï¼\næ¬¢è¿å›æ¥ï¼Œ${username}`);
            loginOverlay.style.display = 'none';
            loginForm.reset();
            
            // æ›´æ–°ç•Œé¢æ˜¾ç¤ºç”¨æˆ·å¤´åƒ
            initUserState();
        });

        // å¤„ç†æ³¨å†Œè¡¨å•æäº¤
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const username = document.getElementById('reg-username').value.trim();
            const email = document.getElementById('reg-email').value.trim();
            const password = document.getElementById('reg-password').value.trim();
            const confirmPassword = document.getElementById('reg-confirm-password').value.trim();

            // è¡¨å•éªŒè¯
            if (!username || !email || !password || !confirmPassword) {
                alert('è¯·å¡«å†™æ‰€æœ‰å­—æ®µ');
                return;
            }

            if (password !== confirmPassword) {
                alert('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´');
                return;
            }

            if (password.length < 6) {
                alert('å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½');
                return;
            }

            // ç®€å•çš„é‚®ç®±éªŒè¯
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€');
                return;
            }

            // æ¨¡æ‹Ÿæ³¨å†ŒæˆåŠŸ
            currentUser = {
                username: username,
                email: email,
                avatar: systemAvatarUrls[0] // é»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªç³»ç»Ÿå¤´åƒ
            };
            
            // ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            alert(`æ³¨å†ŒæˆåŠŸï¼\nç”¨æˆ·åï¼š${username}\né‚®ç®±ï¼š${email}`);
            
            // æ³¨å†ŒæˆåŠŸåè‡ªåŠ¨åˆ‡æ¢åˆ°ç™»å½•è¡¨å•
            showLoginForm();
            // è‡ªåŠ¨å¡«å……ç”¨æˆ·å
            document.getElementById('username').value = username;
            
            // æ¸…ç©ºæ³¨å†Œè¡¨å•
            registerForm.reset();
            
            // å…³é—­ç™»å½•æ¡†å¹¶æ›´æ–°ç•Œé¢
            loginOverlay.style.display = 'none';
            initUserState();
        });

        // æ˜¾ç¤ºæ³¨å†Œè¡¨å•
        registerLink.addEventListener('click', function(e) {
            e.preventDefault();
            showRegisterForm();
        });

        // æ˜¾ç¤ºç™»å½•è¡¨å•
        loginLink.addEventListener('click', function(e) {
            e.preventDefault();
            showLoginForm();
        });

        // æ˜¾ç¤ºæ³¨å†Œè¡¨å•çš„å‡½æ•°
        function showRegisterForm() {
            loginForm.style.display = 'none';
            registerForm.style.display = 'flex';
            formTitle.textContent = 'æ³¨å†Œ';
            registerLinkContainer.style.display = 'none';
            loginLinkContainer.style.display = 'block';
        }

        // æ˜¾ç¤ºç™»å½•è¡¨å•çš„å‡½æ•°
        function showLoginForm() {
            loginForm.style.display = 'flex';
            registerForm.style.display = 'none';
            formTitle.textContent = 'ç™»å½•';
            registerLinkContainer.style.display = 'block';
            loginLinkContainer.style.display = 'none';
        }

        // ç”¨æˆ·èœå•åŠŸèƒ½
        changeAvatarBtn.addEventListener('click', function(e) {
            e.preventDefault();
            userMenu.classList.remove('show');
            openAvatarSetting();
        });

        logoutBtn.addEventListener('click', function(e) {
            e.preventDefault();
            // æ¸…é™¤å½“å‰ç”¨æˆ·ä¿¡æ¯
            currentUser = null;
            localStorage.removeItem('currentUser');
            alert('å·²é€€å‡ºç™»å½•');
            userMenu.classList.remove('show');
            initUserState();
        });

        // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹å…³é—­ç”¨æˆ·èœå•
        document.addEventListener('click', function(e) {
            if (!userAvatarContainer.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.remove('show');
            }
        });

        // æ‰“å¼€å¤´åƒè®¾ç½®
        function openAvatarSetting() {
            avatarOverlay.style.display = 'flex';
            loadSystemAvatars();
            selectedAvatar = currentUser?.avatar || null;
            
            // å¦‚æœæœ‰å½“å‰å¤´åƒï¼Œè®¾ç½®ä¸ºé€‰ä¸­
            if (selectedAvatar) {
                // æ£€æŸ¥æ˜¯å¦æ˜¯ç³»ç»Ÿå¤´åƒ
                const avatarElements = document.querySelectorAll('.avatar-option');
                avatarElements.forEach(img => {
                    if (img.src === selectedAvatar) {
                        img.classList.add('selected');
                    }
                });
            }
            
            // æ¸…ç©ºä¸Šä¼ é¢„è§ˆ
            avatarPreview.style.display = 'none';
            uploadedAvatar = null;
        }

        // åŠ è½½ç³»ç»Ÿå¤´åƒ
        function loadSystemAvatars() {
            systemAvatars.innerHTML = '';
            systemAvatarUrls.forEach((url, index) => {
                const img = document.createElement('img');
                img.src = url;
                img.alt = `ç³»ç»Ÿå¤´åƒ ${index + 1}`;
                img.className = 'avatar-option';
                img.dataset.url = url;
                
                // å¦‚æœå½“å‰ç”¨æˆ·å¤´åƒä¸æ­¤ç³»ç»Ÿå¤´åƒç›¸åŒï¼Œåˆ™é€‰ä¸­
                if (currentUser?.avatar === url) {
                    img.classList.add('selected');
                }
                
                img.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–å¤´åƒçš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.avatar-option').forEach(img => {
                        img.classList.remove('selected');
                    });
                    
                    // é€‰ä¸­å½“å‰å¤´åƒ
                    this.classList.add('selected');
                    selectedAvatar = this.dataset.url;
                    
                    // æ¸…ç©ºä¸Šä¼ é¢„è§ˆ
                    avatarPreview.style.display = 'none';
                    uploadedAvatar = null;
                });
                
                systemAvatars.appendChild(img);
            });
        }

        // å…³é—­å¤´åƒè®¾ç½®
        closeAvatarBtn.addEventListener('click', function() {
            avatarOverlay.style.display = 'none';
        });

        // ç‚¹å‡»é®ç½©å±‚å…³é—­å¤´åƒè®¾ç½®
        avatarOverlay.addEventListener('click', function(e) {
            if (e.target === avatarOverlay) {
                avatarOverlay.style.display = 'none';
            }
        });

        // ä¸Šä¼ å¤´åƒé¢„è§ˆ
        avatarUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                // æ£€æŸ¥æ–‡ä»¶ç±»å‹
                if (!file.type.startsWith('image/')) {
                    alert('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶');
                    return;
                }
                
                // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶ä¸º2MBï¼‰
                if (file.size > 2 * 1024 * 1024) {
                    alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡2MB');
                    return;
                }
                
                // åˆ›å»ºæ–‡ä»¶é˜…è¯»å™¨
                const reader = new FileReader();
                reader.onload = function(e) {
                    avatarPreview.src = e.target.result;
                    avatarPreview.style.display = 'block';
                    uploadedAvatar = e.target.result;
                    
                    // å–æ¶ˆç³»ç»Ÿå¤´åƒçš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.avatar-option').forEach(img => {
                        img.classList.remove('selected');
                    });
                    selectedAvatar = null;
                };
                reader.readAsDataURL(file);
            }
        });

        // ä¿å­˜å¤´åƒ
        saveAvatarBtn.addEventListener('click', function() {
            let newAvatar = null;
            
            if (uploadedAvatar) {
                // ä½¿ç”¨ä¸Šä¼ çš„å¤´åƒ
                newAvatar = uploadedAvatar;
            } else if (selectedAvatar) {
                // ä½¿ç”¨é€‰ä¸­çš„ç³»ç»Ÿå¤´åƒ
                newAvatar = selectedAvatar;
            } else {
                alert('è¯·é€‰æ‹©æˆ–ä¸Šä¼ ä¸€ä¸ªå¤´åƒ');
                return;
            }
            
            // æ›´æ–°å½“å‰ç”¨æˆ·å¤´åƒ
            if (currentUser) {
                currentUser.avatar = newAvatar;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // å•ç‹¬ä¿å­˜ç”¨æˆ·å¤´åƒï¼Œä»¥ä¾¿ç™»å½•æ—¶ä½¿ç”¨
                localStorage.setItem(`${currentUser.username}_avatar`, newAvatar);
                
                // æ›´æ–°ç•Œé¢
                showUserAvatar();
                alert('å¤´åƒè®¾ç½®æˆåŠŸï¼');
                avatarOverlay.style.display = 'none';
            }
        });

        // å–æ¶ˆå¤´åƒè®¾ç½®
        cancelAvatarBtn.addEventListener('click', function() {
            avatarOverlay.style.display = 'none';
        });

        // æŒ‰ESCé”®å…³é—­ç™»å½•æ¡†æ¶
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                loginOverlay.style.display = 'none';
                avatarOverlay.style.display = 'none';
                userMenu.classList.remove('show');
            }
        });

        // ç‚¹å‡»logoè·³è½¬åˆ°é¦–é¡µ
        document.getElementById('logo').addEventListener('click', function() {
            window.location.href = '/';
        });

        // åˆå§‹åŒ–
        initUserState();
    </script>
</body>

</html>